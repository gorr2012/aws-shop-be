(()=>{"use strict";var e={444:(e,r,o)=>{o.d(r,{z:()=>i});var t=o(806),s=o.n(t),n=o(657),a=o.n(n);const i=e=>s()(e).use(a()())},806:e=>{e.exports=require("@middy/core")},657:e=>{e.exports=require("@middy/http-json-body-parser")},480:e=>{e.exports=require("aws-sdk")},43:e=>{e.exports=require("source-map-support/register")}},r={};function o(t){var s=r[t];if(void 0!==s)return s.exports;var n=r[t]={exports:{}};return e[t](n,n.exports,o),n.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};(()=>{o.r(t),o.d(t,{catalogBatchProcess:()=>s,main:()=>n}),o(43);var e=o(480),r=o(444);const s=r=>{console.log("catalogBatchProcess ",r);const o=new e.SNS({region:"eu-west-1"});r.Records.map((async({body:e})=>{const r=(t=e,console.log("product ",t.replace(/^\uFEFF/gi,"")),{Subject:"Hello description",Message:JSON.stringify(t),TopicArn:process.env.SNS_ARN,MessageAttributes:{event:{DataType:"String",StringValue:"description"},description:{DataType:"String",StringValue:JSON.parse(t.replace(/^\uFEFF/gi,"")).description}}});var t;return o.publish(r,((e,r)=>{e&&console.log("err ",e),console.log("dtas  ",r)})),e}))},n=(0,r.z)(s)})();var s=exports;for(var n in t)s[n]=t[n];t.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})();
//# sourceMappingURL=handler.js.map